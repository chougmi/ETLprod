<?xml version="1.0" encoding="UTF-8"?>
<job>
  <name>update donnees partner in Daily_transactions_extended</name>
  <description />
  <extended_description />
  <job_version />
  <directory>/</directory>
  <created_user>-</created_user>
  <created_date>2019/10/14 15:10:58.716</created_date>
  <modified_user>-</modified_user>
  <modified_date>2019/10/14 15:10:58.716</modified_date>
  <parameters>
    </parameters>
  <connection>
    <name>ovh</name>
    <server>51.38.62.93</server>
    <type>MSSQLNATIVE</type>
    <access>Native</access>
    <database>bi</database>
    <port>14332</port>
    <username>bi</username>
    <password>Encrypted 2f5c9d9ae53dda6a1ff00af5dd8abf6f4</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>MSSQLUseIntegratedSecurity</code>
        <attribute>false</attribute>
      </attribute>
      <attribute>
        <code>MSSQL_DOUBLE_DECIMAL_SEPARATOR</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>14332</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <slaveservers>
    </slaveservers>
  <job-log-table>
    <connection />
    <schema />
    <table />
    <size_limit_lines />
    <interval />
    <timeout_days />
    <field>
      <id>ID_JOB</id>
      <enabled>Y</enabled>
      <name>ID_JOB</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>JOBNAME</id>
      <enabled>Y</enabled>
      <name>JOBNAME</name>
    </field>
    <field>
      <id>STATUS</id>
      <enabled>Y</enabled>
      <name>STATUS</name>
    </field>
    <field>
      <id>LINES_READ</id>
      <enabled>Y</enabled>
      <name>LINES_READ</name>
    </field>
    <field>
      <id>LINES_WRITTEN</id>
      <enabled>Y</enabled>
      <name>LINES_WRITTEN</name>
    </field>
    <field>
      <id>LINES_UPDATED</id>
      <enabled>Y</enabled>
      <name>LINES_UPDATED</name>
    </field>
    <field>
      <id>LINES_INPUT</id>
      <enabled>Y</enabled>
      <name>LINES_INPUT</name>
    </field>
    <field>
      <id>LINES_OUTPUT</id>
      <enabled>Y</enabled>
      <name>LINES_OUTPUT</name>
    </field>
    <field>
      <id>LINES_REJECTED</id>
      <enabled>Y</enabled>
      <name>LINES_REJECTED</name>
    </field>
    <field>
      <id>ERRORS</id>
      <enabled>Y</enabled>
      <name>ERRORS</name>
    </field>
    <field>
      <id>STARTDATE</id>
      <enabled>Y</enabled>
      <name>STARTDATE</name>
    </field>
    <field>
      <id>ENDDATE</id>
      <enabled>Y</enabled>
      <name>ENDDATE</name>
    </field>
    <field>
      <id>LOGDATE</id>
      <enabled>Y</enabled>
      <name>LOGDATE</name>
    </field>
    <field>
      <id>DEPDATE</id>
      <enabled>Y</enabled>
      <name>DEPDATE</name>
    </field>
    <field>
      <id>REPLAYDATE</id>
      <enabled>Y</enabled>
      <name>REPLAYDATE</name>
    </field>
    <field>
      <id>LOG_FIELD</id>
      <enabled>Y</enabled>
      <name>LOG_FIELD</name>
    </field>
    <field>
      <id>EXECUTING_SERVER</id>
      <enabled>N</enabled>
      <name>EXECUTING_SERVER</name>
    </field>
    <field>
      <id>EXECUTING_USER</id>
      <enabled>N</enabled>
      <name>EXECUTING_USER</name>
    </field>
    <field>
      <id>START_JOB_ENTRY</id>
      <enabled>N</enabled>
      <name>START_JOB_ENTRY</name>
    </field>
    <field>
      <id>CLIENT</id>
      <enabled>N</enabled>
      <name>CLIENT</name>
    </field>
  </job-log-table>
  <jobentry-log-table>
    <connection />
    <schema />
    <table />
    <timeout_days />
    <field>
      <id>ID_BATCH</id>
      <enabled>Y</enabled>
      <name>ID_BATCH</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>LOG_DATE</id>
      <enabled>Y</enabled>
      <name>LOG_DATE</name>
    </field>
    <field>
      <id>JOBNAME</id>
      <enabled>Y</enabled>
      <name>TRANSNAME</name>
    </field>
    <field>
      <id>JOBENTRYNAME</id>
      <enabled>Y</enabled>
      <name>STEPNAME</name>
    </field>
    <field>
      <id>LINES_READ</id>
      <enabled>Y</enabled>
      <name>LINES_READ</name>
    </field>
    <field>
      <id>LINES_WRITTEN</id>
      <enabled>Y</enabled>
      <name>LINES_WRITTEN</name>
    </field>
    <field>
      <id>LINES_UPDATED</id>
      <enabled>Y</enabled>
      <name>LINES_UPDATED</name>
    </field>
    <field>
      <id>LINES_INPUT</id>
      <enabled>Y</enabled>
      <name>LINES_INPUT</name>
    </field>
    <field>
      <id>LINES_OUTPUT</id>
      <enabled>Y</enabled>
      <name>LINES_OUTPUT</name>
    </field>
    <field>
      <id>LINES_REJECTED</id>
      <enabled>Y</enabled>
      <name>LINES_REJECTED</name>
    </field>
    <field>
      <id>ERRORS</id>
      <enabled>Y</enabled>
      <name>ERRORS</name>
    </field>
    <field>
      <id>RESULT</id>
      <enabled>Y</enabled>
      <name>RESULT</name>
    </field>
    <field>
      <id>NR_RESULT_ROWS</id>
      <enabled>Y</enabled>
      <name>NR_RESULT_ROWS</name>
    </field>
    <field>
      <id>NR_RESULT_FILES</id>
      <enabled>Y</enabled>
      <name>NR_RESULT_FILES</name>
    </field>
    <field>
      <id>LOG_FIELD</id>
      <enabled>N</enabled>
      <name>LOG_FIELD</name>
    </field>
    <field>
      <id>COPY_NR</id>
      <enabled>N</enabled>
      <name>COPY_NR</name>
    </field>
  </jobentry-log-table>
  <channel-log-table>
    <connection />
    <schema />
    <table />
    <timeout_days />
    <field>
      <id>ID_BATCH</id>
      <enabled>Y</enabled>
      <name>ID_BATCH</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>LOG_DATE</id>
      <enabled>Y</enabled>
      <name>LOG_DATE</name>
    </field>
    <field>
      <id>LOGGING_OBJECT_TYPE</id>
      <enabled>Y</enabled>
      <name>LOGGING_OBJECT_TYPE</name>
    </field>
    <field>
      <id>OBJECT_NAME</id>
      <enabled>Y</enabled>
      <name>OBJECT_NAME</name>
    </field>
    <field>
      <id>OBJECT_COPY</id>
      <enabled>Y</enabled>
      <name>OBJECT_COPY</name>
    </field>
    <field>
      <id>REPOSITORY_DIRECTORY</id>
      <enabled>Y</enabled>
      <name>REPOSITORY_DIRECTORY</name>
    </field>
    <field>
      <id>FILENAME</id>
      <enabled>Y</enabled>
      <name>FILENAME</name>
    </field>
    <field>
      <id>OBJECT_ID</id>
      <enabled>Y</enabled>
      <name>OBJECT_ID</name>
    </field>
    <field>
      <id>OBJECT_REVISION</id>
      <enabled>Y</enabled>
      <name>OBJECT_REVISION</name>
    </field>
    <field>
      <id>PARENT_CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>PARENT_CHANNEL_ID</name>
    </field>
    <field>
      <id>ROOT_CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>ROOT_CHANNEL_ID</name>
    </field>
  </channel-log-table>
  <pass_batchid>N</pass_batchid>
  <shared_objects_file />
  <entries>
    <entry>
      <name>START</name>
      <description />
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>Y</repeat>
      <schedulerType>1</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>600</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>16</xloc>
      <yloc>304</yloc>
    </entry>
    <entry>
      <name>ajouter sNeiCode is null</name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended
set   Daily_transactions_extended.sNencode = TAIHUB.sNeiCode
  from Daily_transactions_extended
 JOIN TAIHUB 
on Daily_transactions_extended.TransactionsnId = TAIHUB.nTransactionsId
where Daily_transactions_extended.productType = 'Cash Out International'
 and sNenCode is null</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>32</xloc>
      <yloc>576</yloc>
    </entry>
    <entry>
      <name>sFirstName is null</name>
      <description />
      <type>SQL</type>
      <sql>


update  Daily_transactions_extended
set   Daily_transactions_extended.senderFirstname=  customer.sFirstName
, Daily_transactions_extended.senderLastname = customer.sLastName
  from Daily_transactions_extended
	JOIN customer 
on Daily_transactions_extended.idSender = customer.nid
where Daily_transactions_extended.productId =1
 and Daily_transactions_extended.senderFirstname is null
and  CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>1088</xloc>
      <yloc>576</yloc>
    </entry>
    <entry>
      <name>ajouter nSenderId is null</name>
      <description />
      <type>SQL</type>
      <sql>
update   Daily_transactions_extended
set Daily_transactions_extended.idSender = _transactions.nSenderId
from Daily_transactions_extended
join _transactions
on Daily_transactions_extended.transactionsnId = _transactions.nId
and Daily_transactions_extended.productId in(19,1) and idSender is null
and   CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)
 </sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>336</xloc>
      <yloc>576</yloc>
    </entry>
    <entry>
      <name> ajouter nReceiverId is null</name>
      <description />
      <type>SQL</type>
      <sql>
update   Daily_transactions_extended
set Daily_transactions_extended.idReceiver = _transactions.nReceiverId
from Daily_transactions_extended
join _transactions
on Daily_transactions_extended.transactionsnId = _transactions.nId
and Daily_transactions_extended.productId in(19,1) and Daily_transactions_extended.idReceiver is null
and  CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>592</xloc>
      <yloc>576</yloc>
    </entry>
    <entry>
      <name>update sLastName is null</name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended
set   Daily_transactions_extended.receiverFirstname =  customer.sFirstName
, Daily_transactions_extended.receiverLastname= customer.sLastName
  from Daily_transactions_extended
	JOIN customer 
on Daily_transactions_extended.idReceiver = customer.nid
where Daily_transactions_extended.productId not in  (4060,4059,58,1)
 and Daily_transactions_extended.receiverFirstname is null 
and  CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>1056</xloc>
      <yloc>16</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2</name>
      <description />
      <type>SQL</type>
      <sql>UPDATE Daily_transactions_extended
set senderFirstname = senderMTOFirstName,
	 senderLastname = senderMTOLastName
	 where senderFirstname is null and senderMTOFirstName is not null and CONVERT(DATE,dInsertion) > CONVERT(DATE,GETDATE()-3)
and productId not in (1,19)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>768</xloc>
      <yloc>32</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2 2</name>
      <description />
      <type>SQL</type>
      <sql>UPDATE Daily_transactions_extended
set senderID = senderMTOID
	 
	 where senderID is null and senderMTOID is not null 
	 and productId not in (1,19) and CONVERT(DATE,dInsertion) > CONVERT(DATE,GETDATE()-3)





</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>432</xloc>
      <yloc>16</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2 2 2</name>
      <description />
      <type>SQL</type>
      <sql>update Daily_transactions_extended 
  set Daily_transactions_extended.receiverID = c.sCIN
, Daily_transactions_extended.receiverFirstname = c.sFirstName
, Daily_transactions_extended.receiverLastname = c.sLastName
, Daily_transactions_extended.receiverBirthDay = c.dBirthday
from Daily_transactions_extended 
 join customer c
on c.nId = Daily_transactions_extended.idReceiver
where Daily_transactions_extended.productId not in (4060,4059,58,1) and Daily_transactions_extended.receiverID is null
or receiverLastname is null
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-2)




</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>96</xloc>
      <yloc>32</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2 2 2 2</name>
      <description />
      <type>SQL</type>
      <sql>

update  Daily_transactions_extended 
set Daily_transactions_extended.receivername = Customer.sFirstname +' '+ Customer.sLastName ,
Daily_transactions_extended.receiverFirstname = Customer.sFirstname ,
Daily_transactions_extended.receiverLastname =  Customer.sLastName
from Daily_transactions_extended
 join Customer 
on Daily_transactions_extended.idReceiver = Customer.nid
where Daily_transactions_extended.receivername is null and Daily_transactions_extended.productId not in  (4060,4059,58,1)
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-9)







</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>288</xloc>
      <yloc>176</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2 2 2 2 2</name>
      <description />
      <type>SQL</type>
      <sql>
update  Daily_transactions_extended 
set Daily_transactions_extended.receivername = TANHUB.sReceiverFirstName +' '+ TANHUB.sReceiverLastName,
Daily_transactions_extended.receiverFirstname = TANHUB.sReceiverFirstName ,
Daily_transactions_extended.receiverLastname =  TANHUB.sReceiverLastName
from Daily_transactions_extended
 join TANHUB
on TANHUB.nTransactionCashInId =  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.receivername is null and Daily_transactions_extended.productId = 1
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-9)







</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>112</xloc>
      <yloc>176</yloc>
    </entry>
    <entry>
      <name>update sLastName is null 2 2 2 2 3</name>
      <description />
      <type>SQL</type>
      <sql>

update  Daily_transactions_extended 
set Daily_transactions_extended.receivername = TANHUB.sReceiverFirstName +' '+ TANHUB.sReceiverLastName,
Daily_transactions_extended.receiverFirstname = TANHUB.sReceiverFirstName ,
Daily_transactions_extended.receiverLastname =  TANHUB.sReceiverLastName
from Daily_transactions_extended
 join TANHUB
on TANHUB.nTransactionCashOutId=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.receiverFirstname is null and Daily_transactions_extended.productId = 19
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-9)






</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>464</xloc>
      <yloc>160</yloc>
    </entry>
    <entry>
      <name>update sLastName is null (2)</name>
      <description />
      <type>SQL</type>
      <sql>
update  Daily_transactions_extended 
set Daily_transactions_extended.idReceiver = _transactions.nReceiverId
from Daily_transactions_extended
 join _transactions
on _transactions.nid=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.idReceiver  is null 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-9)





</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>704</xloc>
      <yloc>128</yloc>
    </entry>
    <entry>
      <name>update sLastName</name>
      <description />
      <type>SQL</type>
      <sql>
update  Daily_transactions_extended 
set Daily_transactions_extended.idSender = _transactions.nSenderId
from Daily_transactions_extended
 join _transactions
on _transactions.nid=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.idSender  is null   and Daily_transactions_extended.productid in (4060,4059,58,1)

and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-9)




</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>944</xloc>
      <yloc>128</yloc>
    </entry>
    <entry>
      <name>update sLastName is</name>
      <description />
      <type>SQL</type>
      <sql>
update  Daily_transactions_extended 
set 
Daily_transactions_extended.senderFirstname = Partner_X.sSenderFirstName ,
Daily_transactions_extended.senderLastname =  Partner_X.sSenderLastName
from Daily_transactions_extended
 join Partner_X Partner_X
on Partner_X.nTransactionId=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.senderLastname is null   and   productId  not in  (4060,4059,58,1,19)
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)




</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>960</xloc>
      <yloc>320</yloc>
    </entry>
    <entry>
      <name>update sLastName </name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended 
set 
Daily_transactions_extended.senderFirstname = Partner_X.sSenderFirstName ,
Daily_transactions_extended.senderLastname =  Partner_X.sSenderLastName
from Daily_transactions_extended
 join Partner_WestionUnion Partner_X
on Partner_X.nTransactionId=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.senderLastname is null  
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)
</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>800</xloc>
      <yloc>304</yloc>
    </entry>
    <entry>
      <name>update sLastName (2)</name>
      <description />
      <type>SQL</type>
      <sql>
update  Daily_transactions_extended 
set 
Daily_transactions_extended.senderMTOCountry = Partner_X.sOriginatingCountry 

from Daily_transactions_extended
 join Partner_X Partner_X
on Partner_X.nTransactionId=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.senderMTOCountry is null   
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>640</xloc>
      <yloc>320</yloc>
    </entry>
    <entry>
      <name>update sLastName is (2)</name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended 
set 
Daily_transactions_extended.receiverFirstname = xs.sReceiverFirstName ,
Daily_transactions_extended.receiverLastname =  xs.sReceiverLastname

from Daily_transactions_extended
 join Partner_xs  xs
on xs.nTransactionId=  Daily_transactions_extended.transactionsnId
where    productId   in  (4060,4059,58)   and Daily_transactions_extended.receiverFirstname  is null
and  CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>400</xloc>
      <yloc>288</yloc>
    </entry>
    <entry>
      <name>update sLastName i</name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended 
set 
Daily_transactions_extended.senderMTOCountry = Partner_X.sOriginatingCountry 

from Daily_transactions_extended
 join Partner_WestionUnion Partner_X
on Partner_X.nTransactionId=  Daily_transactions_extended.transactionsnId
where Daily_transactions_extended.senderMTOCountry is null   
 
and CONVERT(DATE,Daily_transactions_extended.dInsertion) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>160</xloc>
      <yloc>288</yloc>
    </entry>
    <entry>
      <name>update sLastName i 2</name>
      <description />
      <type>SQL</type>
      <sql>update  Daily_transactions_extended 
set 
Daily_transactions_extended.transactionStatus = xs.nAfterStatusId 


from Daily_transactions_extended
 join (select maxdate, nTransactionIdd,nAfterStatusId from (
		select nTransactionId as nTransactionIdd ,  max(date_change)as maxdate from T_TransactionChanges
		group by nTransactionId)maxx
		join T_TransactionChanges
		on maxx.nTransactionIdd = T_TransactionChanges.nTransactionId and maxx.maxdate = T_TransactionChanges.date_change

)  xs
on xs.nTransactionIdd=  Daily_transactions_extended.transactionsnId
 where   CONVERT(DATE,maxdate) > CONVERT(DATE,GETDATE()-3)</sql>
      <useVariableSubstitution>F</useVariableSubstitution>
      <sqlfromfile>F</sqlfromfile>
      <sqlfilename />
      <sendOneStatement>F</sendOneStatement>
      <connection>ovh</connection>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>193</xloc>
      <yloc>401</yloc>
    </entry>
  </entries>
  <hops>
    <hop>
      <from>ajouter sNeiCode is null</from>
      <to>ajouter nSenderId is null</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>ajouter nSenderId is null</from>
      <to> ajouter nReceiverId is null</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from> ajouter nReceiverId is null</from>
      <to>sFirstName is null</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>sFirstName is null</from>
      <to>update sLastName is null</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null</from>
      <to>update sLastName is null 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2</from>
      <to>update sLastName is null 2 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2 2</from>
      <to>update sLastName is null 2 2 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2 2 2</from>
      <to>update sLastName is null 2 2 2 2 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2 2 2 2 2</from>
      <to>update sLastName is null 2 2 2 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2 2 2 2</from>
      <to>update sLastName is null 2 2 2 2 3</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null 2 2 2 2 3</from>
      <to>update sLastName is null (2)</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is null (2)</from>
      <to>update sLastName</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName</from>
      <to>update sLastName is</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is</from>
      <to>update sLastName </to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName </from>
      <to>update sLastName (2)</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName (2)</from>
      <to>update sLastName is (2)</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>update sLastName is (2)</from>
      <to>update sLastName i</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>ajouter sNeiCode is null</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>update sLastName i</from>
      <to>update sLastName i 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
  </notepads>
</job>
